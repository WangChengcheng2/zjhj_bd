(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods-edit/goods-cat/goods-cat"],{"31d6":function(t,i,e){"use strict";e("da40")},"44a1":function(t,i,e){"use strict";(function(t){function e(t,i){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=n(t))||i&&t&&"number"===typeof t.length){e&&(t=e);var a=0,s=function(){};return{s:s,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==e.return||e.return()}finally{if(c)throw o}}}}function n(t,i){if(t){if("string"===typeof t)return a(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,i):void 0}}function a(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={data:function(){return{iphone_x:!1,first:!0,cat:[],sec_list:[],third_list:[],list:[],mch_id:null,dialog:!1,index_1:0,index_2:0,index_3:0,type:"",color:""}},methods:{settingCat:function(){t.navigateTo({url:"/pages/goods-edit/cat-setting/cat-setting?mch_id="+this.mch_id})},cancel:function(){this.dialog=!1,this.sec_list=[],this.third_list=[],this.index_1=0,this.index_2=0,this.index_3=0},toAdd:function(){var i,n=this,a=n.cat[n.index_1],s=n.sec_list[n.index_2],o=n.third_list[n.index_3];if(i="未选择"==s.label?a:"未选择"==o.label?s:o,n.list.length>0){var l,c=e(n.list);try{for(c.s();!(l=c.n()).done;){var r=l.value;if(r.value==i.value)return t.showToast({title:"请勿重复添加",icon:"none",duration:1e3}),!1}}catch(d){c.e(d)}finally{c.f()}}setTimeout((function(){n.list.push(i),n.dialog=!1,n.index_1=0,n.index_2=0,n.index_3=0}))},getCat:function(){var i=this,n=0==this.mch_id?i.$api.app_admin.cat:"mall"==i.type?i.$api.mch.cat:i.$api.mch.mch_cat;i.$request({url:n,data:{mch_id:i.mch_id}}).then((function(n){if(i.$hideLoading(),t.hideLoading(),i.first=!1,0==n.code){if(i.cat=n.data.list,i.list.length>0){var a=JSON.parse(JSON.stringify(i.list));i.list=[];var s,o=e(a);try{for(o.s();!(s=o.n()).done;){var l,c=s.value,r=e(i.cat);try{for(r.s();!(l=r.n()).done;){var d=l.value;if(c.value==d.value)i.list.push(c);else if(d.children){var h,u=e(d.children);try{for(u.s();!(h=u.n()).done;){var f=h.value;if(c.value==f.value)i.list.push(c);else if(f.children){var _,g=e(f.children);try{for(g.s();!(_=g.n()).done;){var v=_.value;c.value==v.value&&i.list.push(c)}}catch(m){g.e(m)}finally{g.f()}}}}catch(m){u.e(m)}finally{u.f()}}}}catch(m){r.e(m)}finally{r.f()}}}catch(m){o.e(m)}finally{o.f()}}}else t.showToast({title:n.msg,icon:"none",duration:1e3})})).catch((function(e){i.$hideLoading(),t.hideLoading()}))},delCat:function(t){this.list.splice(t,1)},bindChange:function(t){var i=this;t.detail.value[0]<0&&(t.detail.value[0]=0),i.index_1==t.detail.value[0]?i.index_2==t.detail.value[1]?i.index_3=+t.detail.value[2]:(i.index_2=+t.detail.value[1],i.index_3=0,i.third_list=[{label:"未选择",value:""}],i.sec_list[i.index_2].children&&(i.third_list=i.third_list.concat(i.sec_list[i.index_2].children))):(i.index_1=+t.detail.value[0],i.index_2=0,i.index_3=0,i.sec_list=[{label:"未选择",value:""}],i.third_list=[{label:"未选择",value:""}],i.cat[i.index_1].children&&(i.sec_list=i.sec_list.concat(i.cat[i.index_1].children),i.sec_list[0].children&&(i.third_list=i.third_list.concat(i.sec_list[0].children))))},save:function(){0==this.mch_id?this.$storage.setStorageSync("goods_cat",this.list):"mall"==this.type?this.$storage.setStorageSync("mch_goods_cat",this.list):this.$storage.setStorageSync("mch_goods_mch_cat",this.list),setTimeout((function(){t.navigateBack()}),500)},add:function(){this.dialog=!0,this.sec_list=[{label:"未选择",value:""}],this.third_list=[{label:"未选择",value:""}],this.cat[0].children&&(this.sec_list=this.sec_list.concat(this.cat[0].children),this.sec_list[0].children&&(this.third_list=this.third_list.concat(this.sec_list[0].children)))}},onShow:function(){this.first||(t.showLoading({mask:!0}),this.getCat())},onLoad:function(i){this.$commonLoad.onload(i);var e=this;e.$showLoading({type:"global",text:"加载中..."}),this.type=i.type?i.type:"",this.mch_id=i.mch_id?i.mch_id:0,this.color=i.mch_id?"#ff4544":"#446dfd",0==this.mch_id?this.list=this.$storage.getStorageSync("goods_cat")?this.$storage.getStorageSync("goods_cat"):[]:"mall"==this.type?this.list=this.$storage.getStorageSync("mch_goods_cat")?this.$storage.getStorageSync("mch_goods_cat"):[]:this.list=this.$storage.getStorageSync("mch_goods_mch_cat")?this.$storage.getStorageSync("mch_goods_mch_cat"):[],t.getSystemInfo({success:function(t){(t.model.indexOf("iPhone X")>-1||t.model.indexOf("iPhone 11")>-1||t.model.indexOf("iPhone11")>-1||t.model.indexOf("iPhone12")>-1||t.model.indexOf("Unknown Device")>-1)&&(e.iphone_x=!0)}}),e.getCat()}};i.default=s}).call(this,e("d2c1")["default"])},7954:function(t,i,e){"use strict";e.r(i);var n=e("44a1"),a=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},cc98:function(t,i,e){"use strict";e.r(i);var n=e("fa88"),a=e("7954");for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);e("31d6");var o=e("5d22"),l=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"1abf2b04",null);i["default"]=l.exports},da40:function(t,i,e){},fa88:function(t,i,e){"use strict";e.d(i,"a",(function(){return n})),e.d(i,"b",(function(){return a}));var n=function(){var t=this,i=t.$createElement;t._self._c},a=[]}},[["e9a1","common/runtime","common/vendor"]]]);